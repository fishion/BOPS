(()=>{var e={875:e=>{"use strict";e.exports=JSON.parse('{"recaptcha2-site-secret":"6LdOWmkaAAAAAAXH3BvOKcI2wrq53-qq3bjtSR2s","contactUsAPI":"https://api.maytreehousestudios.co.uk/contact-us","siteKey":"bopsart","expectedFormData":[{"name":"name","niceName":"Name"},{"name":"email","niceName":"Email","validation":{"type":"email","error":"Please enter a valid Email Address"},"required":"No email address provided"},{"name":"whereHear","niceName":"Where did you hear about us"},{"name":"message","niceName":"Message","required":"Please enter your message to us here"}]}')},381:function(e,t,a){const r=a(390);e.exports=(e,t)=>{function a(){return[...e.getElementsByTagName("input"),...e.getElementsByTagName("textarea")].reduce(((e,t)=>({[t.name]:t.value,...e})),{})}function n(e){"string"==typeof e?document.getElementById("form_generalError").appendChild(s(`Error : ${e}`,"error")):(document.getElementById("form_generalError").appendChild(s("Please check errors below","error")),Object.keys(e).forEach((t=>{document.getElementById(`formField_${t}`).appendChild(s(e[t],"error"))})))}function s(e,t){const a=document.createElement("p");return t&&a.classList.add(t),a.textContent=e,a}return this.afterValidate=()=>{},this.afterSubmit=()=>{},e.addEventListener("keyup",(e=>{e.target.value.match(/[^\s]/)?e.target.classList.add("hascontent"):e.target.classList.remove("hascontent")})),{addSubmit:function(t){e.getElementsByTagName("button")[0].addEventListener("click",(()=>{this.validate()&&this.afterValidate()}))},validate:function(){[...e.getElementsByClassName("error"),...e.getElementsByClassName("success")].forEach((e=>{e.remove()}));const[s,i]=r(a(),t.expectedFormData);return!Object.keys(i).length||(n(i),!1)},submitForm:async function(){const r=a(),i=await fetch(t.contactUsAPI,{headers:{"Content-Type":"application/json"},method:"POST",mode:"cors",cache:"no-cache",body:JSON.stringify({siteKey:t.siteKey,...r})}),o=await i.json();"400"==i.status?n(o.error):"200"==i.status&&(document.getElementById("form_generalError").appendChild(s("Message received - Thank you!","success")),[...e.getElementsByTagName("input"),...e.getElementsByTagName("textarea")].forEach((e=>{e.value=""}))),this.afterSubmit()}}}},578:e=>{e.exports=(e,t)=>({addRecaptcha:function(a){const r=document.createElement("div");return r.classList.add("g-recaptcha"),e.appendChild(r),grecaptcha.render(r,{sitekey:t,size:"invisible",badge:"bottomright",callback:a})}})},390:e=>{e.exports=(e,t)=>{const a={},r=[];return t.forEach((t=>{if(e[t.name]){switch(t.validation&&t.validation.type){case"email":e[t.name].match(/.*@.*\..*/)||(a[t.name]=t.validation.error);break;case void 0:break;default:throw`Validation type '${t.validation}' not defined`}r.push(`${t.niceName||t.name} : ${e[t.name]}`)}else t.required&&(a[t.name]=t.required)})),[r,a]}}},t={};function a(r){var n=t[r];if(void 0!==n)return n.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,a),s.exports}(()=>{const e=document.getElementsByTagName("form")[0],t=a(875),r=a(381)(e,t),n=a(578)(e,t["recaptcha2-site-secret"]);window.initForm=()=>{const e=n.addRecaptcha(r.submitForm);r.afterValidate=()=>{grecaptcha.execute(e)},r.afterSubmit=()=>{grecaptcha.reset()},r.addSubmit()}})()})();